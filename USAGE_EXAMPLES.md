# Obsidian AI Agent 使用示例

本文档提供了插件使用的实际示例。

## 基础使用

### 1. 快速开始

首次使用前，需要配置 API Key：

1. 打开 Obsidian 设置 → 第三方插件 → Obsidian AI Agent
2. 在 DeepSeek 或智谱 AI 配置中填入你的 API Key
3. 点击"测试连接"验证配置是否正确

### 2. 处理选中文本

**场景**: 你有一段英文技术文档，想要翻译成中文

**步骤**:
1. 在笔记中选中英文文本
2. 按 `Ctrl/Cmd + Shift + A` 或点击工具栏 AI 图标
3. 在弹出的模板选择中，点击"翻译为中文"
4. 等待 AI 处理完成

**示例文本**:
```
Artificial Intelligence (AI) is the simulation of human intelligence processes by machines, especially computer systems.
```

**AI 输出**:
```
人工智能（AI）是机器模拟人类智能过程的技术，特别是计算机系统。
```

### 3. 处理整个文件

**场景**: 你写了一篇长篇文章，想要 AI 帮你总结要点

**步骤**:
1. 打开要处理的文档
2. 按 `Ctrl/Cmd + Shift + F`
3. 选择"总结"或"要点提取"模板
4. AI 会分析整篇文章并生成总结

**示例**:
输入一篇 2000 字的博客文章，AI 会输出：
```
## 关键要点

- 文章主要讨论了 AI 在现代工作流程中的应用
- 提到了三个核心场景：自动化、数据分析、内容生成
- 结论指出 AI 工具可以提高 30% 的工作效率
```

## 高级使用

### 4. 自定义 Prompt

**场景**: 你想要 AI 按照特定的格式改写内容

**步骤**:
1. 选中要改写的文本
2. 使用快捷键打开 AI 面板
3. 在底部的文本框中输入自定义 Prompt：
   ```
   请将以下内容改写成适合小红书的风格：
   - 使用emoji表情
   - 段落简短
   - 语气活泼
   
   {{content}}
   ```
4. 点击"提交"

**示例**:
输入:
```
今天我去了一家新开的咖啡店，他们的拿铁很好喝，环境也很舒适，适合工作。
```

AI 输出:
```
☕ 发现宝藏咖啡店啦！

今天探店新开的咖啡店，真的被惊喜到了！💖

🥛 拿铁超好喝，奶泡绵密
🌿 环境超舒适，很适合办公
💻 一个人带电脑过来也很合适

推荐指数：⭐⭐⭐⭐⭐

#咖啡店探店 #打工人日常 #宝藏店铺
```

### 5. 代码解释

**场景**: 你遇到一段复杂的代码，想要理解它的功能

**步骤**:
1. 选中代码块
2. 选择"代码解释"模板
3. AI 会逐行解释代码逻辑

**示例**:
输入:
```javascript
function debounce(func, wait) {
  let timeout;
  return function(...args) {
    clearTimeout(timeout);
    timeout = setTimeout(() => func.apply(this, args), wait);
  };
}
```

AI 输出:
```
这是一个防抖（debounce）函数的实现：

1. **参数**:
   - `func`: 要执行的函数
   - `wait`: 等待时间（毫秒）

2. **闭包变量**:
   - `timeout`: 存储定时器引用

3. **返回的函数**:
   - 每次调用时，先清除之前的定时器
   - 设置新的定时器，等待指定时间后执行原函数
   - 使用 `apply` 保持正确的 `this` 上下文

4. **用途**:
   - 防止函数频繁触发
   - 常用于搜索框输入、窗口调整大小等场景
```

### 6. 使用变量模板

**场景**: 你想要在 Prompt 中引用文件标题

**可用变量**:
- `{{content}}`: 选中的内容或全文
- `{{title}}`: 当前文件名
- `{{date}}`: 当前日期

**示例 Prompt**:
```
请帮我为文章 "{{title}}" 写一段吸引人的介绍，包含以下内容：
- 发布日期：{{date}}
- 文章概要：{{content}}

要求：语言生动，突出亮点
```

## 实用技巧

### 7. 批量处理

**场景**: 你有多段类似的文本需要处理

**技巧**:
1. 选中第一段文本
2. 使用 AI 处理
3. 快速移动到下一段
4. 重复上述步骤（使用快捷键会更高效）

### 8. 链式处理

**场景**: 你想要对同一文本进行多次 AI 处理

**技巧**:
1. 先用"总结"模板生成要点
2. 选中生成的要点
3. 再用"翻译为英文"模板翻译
4. 逐步优化内容

### 9. 创建专业模板

**场景**: 你经常需要写特定格式的内容

**步骤**:
1. 在插件设置中点击"添加自定义模板"
2. 填写模板名称，例如"产品介绍"
3. 填写模板内容：
   ```
   请根据以下信息撰写产品介绍：
   
   ## 产品概述
   基于 {{content}}，突出核心卖点
   
   ## 目标用户
   明确适用人群
   
   ## 主要优势
   列出3-5个关键优势
   
   ## 使用场景
   提供2-3个典型应用场景
   ```
4. 保存后，这个模板会出现在模板选择列表中

### 10. 调整输出格式

**场景**: 你希望 AI 的回复以特定格式插入

**设置**:
- **插入位置**: 选择"光标位置"可以精确控制插入点
- **插入格式**: 
  - "纯文本": 简单文本，适合复制粘贴
  - "Markdown": 带标题，适合笔记归档
  - "Callout": 折叠块，适合管理大量 AI 生成内容

## 工作流程示例

### 学术写作工作流

```
1. 整理研究资料 → 用"总结"提取要点
2. 选中要点 → 用"扩展内容"添加细节
3. 全文 → 用"改写/润色"优化语言
4. 选中摘要 → 用"翻译为英文"生成英文摘要
5. 全文 → 用"语法修正"检查错误
```

### 内容创作工作流

```
1. 初稿 → 用"语法修正"检查错误
2. 选中段落 → 用"改写/润色"优化表达
3. 全文 → 用"要点提取"生成大纲
4. 选中要点 → 用"扩展内容"丰富内容
5. 全文 → 用"总结"生成简介
```

## 常见使用场景

| 场景 | 推荐模板 | 说明 |
|------|---------|------|
| 快速浏览长文档 | 总结 | 提取核心要点 |
| 学习技术文档 | 代码解释 | 理解代码逻辑 |
| 跨语言研究 | 翻译 | 中英互译 |
| 写作初稿改写 | 改写/润色 | 优化表达 |
| 备课笔记 | 要点提取 | 整理知识点 |
| 社交媒体发布 | 自定义模板 | 适配平台风格 |
| 研究文献综述 | 总结+扩展 | 快速了解领域 |

## 性能优化建议

1. **合理设置 maxTokens**: 
   - 简短总结: 500-1000
   - 详细分析: 2000-4000
   - 代码解释: 1000-2000

2. **调整 Temperature**:
   - 需要精确输出: 0-0.3
   - 平衡创意和准确: 0.5-0.7
   - 需要多样化输出: 0.8-1.5

3. **分段处理**:
   - 超长文本建议分段处理
   - 每段控制在 2000-4000 字符

## 故障排除

### 问题: AI 输出中断

**原因**: 可能是 maxTokens 设置过小

**解决**: 在设置中增加 maxTokens 值

### 问题: 网络请求超时

**原因**: 网络不稳定或请求过大

**解决**: 
- 检查网络连接
- 减少 input content 长度
- 使用更快的模型（如 glm-4-flash）

### 问题: 输出格式不符合预期

**原因**: Prompt 不够明确

**解决**: 在自定义 Prompt 中明确指定输出格式要求

## 高级技巧

### 11. 使用多个 AI 提供商

**场景**: 对比不同模型的输出质量

**步骤**:
1. 在设置中配置两个提供商的 API Key
2. 处理同一段文本时，在设置中切换默认提供商
3. 对比不同模型的结果
4. 选择最适合当前任务的模型

### 12. Token 成本控制

**技巧**:
- 启用调用日志，监控 Token 使用量
- 对于简单任务，使用更便宜的模型
- 合理设置 maxTokens，避免浪费
- 优先使用"总结"而非"全文改写"

### 13. 构建 AI 辅助知识库

**工作流**:
1. 阅读/收集资料 → 用 AI 提取要点
2. 存储到 Obsidian
3. 后续写作时，选中相关笔记
4. 用 AI 关联和扩展知识点
5. 建立知识网络

---

希望这些示例能帮助你更好地使用 Obsidian AI Agent！